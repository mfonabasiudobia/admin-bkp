(this["webpackJsonpludo-admin"]=this["webpackJsonpludo-admin"]||[]).push([[16],{525:function(e,s,t){"use strict";t.r(s);var c=t(0),i=t(12),a=t.n(i),l=t(112),n=t.n(l),r=t(1);s.default=()=>{const[e,s]=Object(c.useState)(null),[t,i]=Object(c.useState)(""),[l,d]=Object(c.useState)(!1),[o,j]=Object(c.useState)(!1),b="https://api.ludowins.in/";Object(c.useEffect)(()=>{m()},[]);const m=async()=>{d(!0);try{const e=localStorage.getItem("token"),t=await a.a.get("".concat(b,"twilio/status"),{headers:{Authorization:"Bearer ".concat(e)}});s(t.data)}catch(e){console.error("Error checking Twilio status:",e),s({success:!1,twilioConfigured:!1,message:"Failed to check Twilio status"})}finally{d(!1)}};return Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)("div",{className:"col-12 grid-margin stretch-card",children:Object(r.jsx)("div",{className:"card corona-gradient-card",children:Object(r.jsx)("div",{className:"card-body py-0 px-0 px-sm-3",children:Object(r.jsxs)("div",{className:"row align-items-center",children:[Object(r.jsx)("div",{className:"col-4 col-sm-3 col-xl-2",children:Object(r.jsx)("img",{src:"".concat(b,"assets/images/dashboard/Group126@2x.png"),className:"gradient-corona-img img-fluid",alt:""})}),Object(r.jsx)("div",{className:"col-5 col-sm-7 col-xl-8 pl-0 pl-xl-8 pl-sm-6",children:Object(r.jsx)("div",{className:"d-flex justify-content-between align-items-center pt-2",children:Object(r.jsxs)("div",{children:[Object(r.jsx)("h4",{className:"mb-1 pb-0 text-white",children:"Twilio SMS Configuration"}),Object(r.jsx)("p",{className:"mb-0 pb-0 tx-light",children:"Manage Twilio SMS settings for OTP delivery"})]})})})]})})})}),Object(r.jsx)("div",{className:"col-12 grid-margin stretch-card",children:Object(r.jsx)("div",{className:"card",children:Object(r.jsxs)("div",{className:"card-body",children:[Object(r.jsx)("h4",{className:"card-title",children:"Twilio Status"}),l?Object(r.jsxs)("div",{className:"text-center",children:[Object(r.jsx)("div",{className:"spinner-border text-primary",role:"status",children:Object(r.jsx)("span",{className:"sr-only",children:"Loading..."})}),Object(r.jsx)("p",{className:"mt-2",children:"Checking Twilio configuration..."})]}):Object(r.jsxs)("div",{className:"row",children:[Object(r.jsxs)("div",{className:"col-md-6",children:[Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{children:"Configuration Status"}),Object(r.jsxs)("div",{className:"d-flex align-items-center",children:[Object(r.jsx)("div",{className:"badge badge-".concat(null!==e&&void 0!==e&&e.twilioConfigured?"success":"danger"," mr-2"),children:null!==e&&void 0!==e&&e.twilioConfigured?"Configured":"Not Configured"}),Object(r.jsx)("button",{className:"btn btn-sm btn-outline-primary",onClick:m,children:"Refresh"})]})]}),Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{children:"Status Message"}),Object(r.jsx)("p",{className:"text-muted",children:null===e||void 0===e?void 0:e.message})]})]}),Object(r.jsx)("div",{className:"col-md-6",children:Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{children:"Test SMS"}),Object(r.jsxs)("div",{className:"input-group",children:[Object(r.jsx)("input",{type:"tel",className:"form-control",placeholder:"Enter phone number (e.g., 9876543210)",value:t,onChange:e=>i(e.target.value),maxLength:"10"}),Object(r.jsx)("div",{className:"input-group-append",children:Object(r.jsx)("button",{className:"btn btn-primary",onClick:async()=>{if(t){j(!0);try{const e=localStorage.getItem("token"),s=await a.a.post("".concat(b,"twilio/test"),{phoneNumber:t},{headers:{Authorization:"Bearer ".concat(e)}});s.data.success?n.a.fire({icon:"success",title:"Success!",text:"Test SMS sent successfully!"}):n.a.fire({icon:"error",title:"Error",text:s.data.message||"Failed to send test SMS"})}catch(e){console.error("Error sending test SMS:",e),n.a.fire({icon:"error",title:"Error",text:"Failed to send test SMS"})}finally{j(!1)}}else n.a.fire({icon:"error",title:"Error",text:"Please enter a phone number"})},disabled:o||!(null!==e&&void 0!==e&&e.twilioConfigured),children:o?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("span",{className:"spinner-border spinner-border-sm mr-2",role:"status"}),"Sending..."]}):"Send Test SMS"})})]}),Object(r.jsx)("small",{className:"form-text text-muted",children:"Send a test SMS to verify Twilio configuration"})]})})]}),Object(r.jsxs)("div",{className:"mt-4",children:[Object(r.jsx)("h5",{children:"Environment Variables Required"}),Object(r.jsxs)("div",{className:"alert alert-info",children:[Object(r.jsx)("p",{children:Object(r.jsx)("strong",{children:"To configure Twilio, add these environment variables to your .env file:"})}),Object(r.jsx)("pre",{className:"bg-dark text-light p-3 rounded",children:"TWILIO_ACCOUNT_SID=your_twilio_account_sid_here\nTWILIO_AUTH_TOKEN=your_twilio_auth_token_here\nTWILIO_PHONE_NUMBER=your_twilio_phone_number_here"}),Object(r.jsxs)("p",{className:"mb-0",children:[Object(r.jsx)("strong",{children:"Note:"})," You can get these credentials from your Twilio Console dashboard."]})]})]}),Object(r.jsxs)("div",{className:"mt-4",children:[Object(r.jsx)("h5",{children:"Features"}),Object(r.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(r.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[Object(r.jsx)("span",{children:"OTP Delivery via SMS"}),Object(r.jsx)("span",{className:"badge badge-success badge-pill",children:"Active"})]}),Object(r.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[Object(r.jsx)("span",{children:"Fallback to Fast2SMS"}),Object(r.jsx)("span",{className:"badge badge-info badge-pill",children:"Enabled"})]}),Object(r.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[Object(r.jsx)("span",{children:"Admin Login OTP"}),Object(r.jsx)("span",{className:"badge badge-success badge-pill",children:"Active"})]}),Object(r.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[Object(r.jsx)("span",{children:"User Registration OTP"}),Object(r.jsx)("span",{className:"badge badge-success badge-pill",children:"Active"})]})]})]})]})})})]})}}}]);
//# sourceMappingURL=16.d2e63512.chunk.js.map