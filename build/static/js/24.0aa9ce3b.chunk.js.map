{"version":3,"sources":["app/components/userManagement/Adduser.js"],"names":["Adduser","history","useHistory","id","useParams","Name","setName","useState","Phone","setPhone","Email","setEmail","Password","setPassword","cPassword","setCPassword","baseUrl","process","useEffect","access_token","localStorage","getItem","headers","Authorization","concat","axios","get","then","res","data","catch","e","console","log","_jsxs","children","_jsx","className","style","backgroundColor","onSubmit","async","preventDefault","patch","push","alert","post","htmlFor","type","value","onChange","target","placeholder","required","maxLength"],"mappings":"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","file":"static/js/24.0aa9ce3b.chunk.js","sourcesContent":["import axios from 'axios'\nimport React, { useEffect, useState } from 'react'\nimport { useHistory, useParams } from 'react-router-dom'\n\nexport default function Adduser() {\n    const history = useHistory()\n    const { id } = useParams()\n\n    const [Name, setName] = useState('')\n    const [Phone, setPhone] = useState('')\n    const [Email, setEmail] = useState('')\n    const [Password, setPassword] = useState('')\n    const [cPassword, setCPassword] = useState('')\n    const beckendLocalApiUrl = process.env.REACT_APP_BACKEND_LOCAL_API;\n    const beckendLiveApiUrl = process.env.REACT_APP_BACKEND_LIVE_API;\n    const nodeMode = process.env.NODE_ENV;\n    const baseUrl = nodeMode === \"development\" ? beckendLocalApiUrl : beckendLiveApiUrl;\n\n    useEffect(() => {\n        if (id) {\n            const access_token = localStorage.getItem(\"token\")\n            const headers = { Authorization: `Bearer ${access_token}` }\n            axios.get(baseUrl + `get_user/${id}`, { headers })\n                .then((res) => {\n                    setName(res.data.Name)\n                    setPhone(res.data.Phone)\n                    setEmail(res.data.Email)\n                })\n                .catch((e) => console.log(e))\n        }\n    }, [id, baseUrl])\n\n    const handleSubmit = async (e) => {\n        e.preventDefault()\n        const access_token = localStorage.getItem(\"token\")\n        const headers = { Authorization: `Bearer ${access_token}` }\n\n        if (id) {\n            // Update user\n            axios.patch(baseUrl + `admin/edit/user/${id}`, { Name, Phone, Email }, { headers })\n                .then(() => {\n                    history.push(\"/user/allusers\")\n                })\n                .catch((e) => alert(e))\n        } else {\n            // Add new user\n            if (Password === cPassword) {\n                axios.post(baseUrl + `register`, { Name, Phone, Email, Password, cPassword }, { headers })\n                    .then(() => {\n                        history.push(\"/user/allusers\")\n                    })\n                    .catch((e) => alert(e))\n            } else {\n                alert(\"Passwords do not match!\")\n            }\n        }\n    }\n\n    return (\n        <div>\n            <h4 className='font-weight-bold my-3'>{id ? 'UPDATE USER' : 'ADD NEW USER'}</h4>\n            <div className=\"card text-white\" style={{ backgroundColor: \"rgba(0, 27, 11, 0.734)\" }}>\n                <div className=\"card-body\">\n                    <form onSubmit={handleSubmit}>\n                        <div className=\"form-row\">\n                            <div className=\"form-group col-md-4\">\n                                <label htmlFor=\"name\">Name</label>\n                                <input type=\"text\" className=\"form-control\" id=\"name\" value={Name} onChange={(e) => setName(e.target.value)} placeholder=\"Name\" required />\n                            </div>\n                            <div className=\"form-group col-md-4\">\n                                <label htmlFor=\"mobile\">Mobile</label>\n                                <input type=\"text\" className=\"form-control\" id=\"mobile\" value={Phone} onChange={(e) => setPhone(e.target.value)} maxLength={10} placeholder=\"Mobile\" required />\n                            </div>\n                            <div className=\"form-group col-md-4\">\n                                <label htmlFor=\"email\">Email</label>\n                                <input type=\"email\" className=\"form-control\" id=\"email\" value={Email} onChange={(e) => setEmail(e.target.value)} placeholder=\"Email\" />\n                            </div>\n                        </div>\n                        {!id && (\n                            <div className=\"form-row\">\n                                <div className=\"form-group col-md-6\">\n                                    <label htmlFor=\"password\">Password</label>\n                                    <input type=\"password\" className=\"form-control\" id=\"password\" value={Password} onChange={(e) => setPassword(e.target.value)} placeholder=\"Password\" required />\n                                </div>\n                                <div className=\"form-group col-md-6\">\n                                    <label htmlFor=\"confirm_password\">Confirm Password</label>\n                                    <input type=\"password\" className=\"form-control\" id=\"confirm_password\" value={cPassword} onChange={(e) => setCPassword(e.target.value)} placeholder=\"Confirm Password\" required />\n                                </div>\n                            </div>\n                        )}\n                        <button type=\"submit\" className=\"btn btn-success float-right\">{id ? 'Update User' : 'Add User'}</button>\n                    </form>\n                </div>\n            </div>\n        </div>\n    )\n}\n\n"],"sourceRoot":""}