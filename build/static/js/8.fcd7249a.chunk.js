(this["webpackJsonpludo-admin"]=this["webpackJsonpludo-admin"]||[]).push([[8],{519:function(e,a,t){"use strict";var s=t(6),r=t(21),i=t(4),l=t.n(i),o=t(0),c=t.n(o),n=(t(184),t(9)),d=t.n(n),m=["as","className","type","tooltip"],b={type:d.a.string,tooltip:d.a.bool,as:d.a.elementType},f=c.a.forwardRef(function(e,a){var t=e.as,i=void 0===t?"div":t,o=e.className,n=e.type,d=void 0===n?"valid":n,b=e.tooltip,f=void 0!==b&&b,u=Object(r.a)(e,m);return c.a.createElement(i,Object(s.a)({},u,{ref:a,className:l()(o,d+"-"+(f?"tooltip":"feedback"))}))});f.displayName="Feedback",f.propTypes=b;var u=f,p=c.a.createContext({controlId:void 0}),v=t(38),x=["id","bsPrefix","bsCustomPrefix","className","type","isValid","isInvalid","isStatic","as"],j=c.a.forwardRef(function(e,a){var t=e.id,i=e.bsPrefix,n=e.bsCustomPrefix,d=e.className,m=e.type,b=void 0===m?"checkbox":m,f=e.isValid,u=void 0!==f&&f,j=e.isInvalid,O=void 0!==j&&j,h=e.isStatic,N=e.as,y=void 0===N?"input":N,g=Object(r.a)(e,x),P=Object(o.useContext)(p),w=P.controlId,C=P.custom?[n,"custom-control-input"]:[i,"form-check-input"],I=C[0],k=C[1];return i=Object(v.a)(I,k),c.a.createElement(y,Object(s.a)({},g,{ref:a,type:b,id:t||w,className:l()(d,i,u&&"is-valid",O&&"is-invalid",h&&"position-static")}))});j.displayName="FormCheckInput";var O=j,h=["bsPrefix","bsCustomPrefix","className","htmlFor"],N=c.a.forwardRef(function(e,a){var t=e.bsPrefix,i=e.bsCustomPrefix,n=e.className,d=e.htmlFor,m=Object(r.a)(e,h),b=Object(o.useContext)(p),f=b.controlId,u=b.custom?[i,"custom-control-label"]:[t,"form-check-label"],x=u[0],j=u[1];return t=Object(v.a)(x,j),c.a.createElement("label",Object(s.a)({},m,{ref:a,htmlFor:d||f,className:l()(n,t)}))});N.displayName="FormCheckLabel";var y=N,g=["id","bsPrefix","bsCustomPrefix","inline","disabled","isValid","isInvalid","feedbackTooltip","feedback","className","style","title","type","label","children","custom","as"],P=c.a.forwardRef(function(e,a){var t=e.id,i=e.bsPrefix,n=e.bsCustomPrefix,d=e.inline,m=void 0!==d&&d,b=e.disabled,f=void 0!==b&&b,x=e.isValid,j=void 0!==x&&x,h=e.isInvalid,N=void 0!==h&&h,P=e.feedbackTooltip,w=void 0!==P&&P,C=e.feedback,I=e.className,k=e.style,E=e.title,F=void 0===E?"":E,R=e.type,T=void 0===R?"checkbox":R,L=e.label,S=e.children,V=e.custom,z=e.as,A=void 0===z?"input":z,G=Object(r.a)(e,g),B="switch"===T||V,D=B?[n,"custom-control"]:[i,"form-check"],M=D[0],J=D[1];i=Object(v.a)(M,J);var q=Object(o.useContext)(p).controlId,U=Object(o.useMemo)(function(){return{controlId:t||q,custom:B}},[q,B,t]),W=B||null!=L&&!1!==L&&!S,_=c.a.createElement(O,Object(s.a)({},G,{type:"switch"===T?"checkbox":T,ref:a,isValid:j,isInvalid:N,isStatic:!W,disabled:f,as:A}));return c.a.createElement(p.Provider,{value:U},c.a.createElement("div",{style:k,className:l()(I,i,B&&"custom-"+T,m&&i+"-inline")},S||c.a.createElement(c.a.Fragment,null,_,W&&c.a.createElement(y,{title:F},L),(j||N)&&c.a.createElement(u,{type:j?"valid":"invalid",tooltip:w},C))))});P.displayName="FormCheck",P.Input=O,P.Label=y;var w=P,C=["id","bsPrefix","bsCustomPrefix","className","isValid","isInvalid","lang","as"],I=c.a.forwardRef(function(e,a){var t=e.id,i=e.bsPrefix,n=e.bsCustomPrefix,d=e.className,m=e.isValid,b=e.isInvalid,f=e.lang,u=e.as,x=void 0===u?"input":u,j=Object(r.a)(e,C),O=Object(o.useContext)(p),h=O.controlId,N=O.custom?[n,"custom-file-input"]:[i,"form-control-file"],y=N[0],g=N[1];return i=Object(v.a)(y,g),c.a.createElement(x,Object(s.a)({},j,{ref:a,id:t||h,type:"file",lang:f,className:l()(d,i,m&&"is-valid",b&&"is-invalid")}))});I.displayName="FormFileInput";var k=I,E=["bsPrefix","bsCustomPrefix","className","htmlFor"],F=c.a.forwardRef(function(e,a){var t=e.bsPrefix,i=e.bsCustomPrefix,n=e.className,d=e.htmlFor,m=Object(r.a)(e,E),b=Object(o.useContext)(p),f=b.controlId,u=b.custom?[i,"custom-file-label"]:[t,"form-file-label"],x=u[0],j=u[1];return t=Object(v.a)(x,j),c.a.createElement("label",Object(s.a)({},m,{ref:a,htmlFor:d||f,className:l()(n,t),"data-browse":m["data-browse"]}))});F.displayName="FormFileLabel";var R=F,T=["id","bsPrefix","bsCustomPrefix","disabled","isValid","isInvalid","feedbackTooltip","feedback","className","style","label","children","custom","lang","data-browse","as","inputAs"],L=c.a.forwardRef(function(e,a){var t=e.id,i=e.bsPrefix,n=e.bsCustomPrefix,d=e.disabled,m=void 0!==d&&d,b=e.isValid,f=void 0!==b&&b,x=e.isInvalid,j=void 0!==x&&x,O=e.feedbackTooltip,h=void 0!==O&&O,N=e.feedback,y=e.className,g=e.style,P=e.label,w=e.children,C=e.custom,I=e.lang,E=e["data-browse"],F=e.as,L=void 0===F?"div":F,S=e.inputAs,V=void 0===S?"input":S,z=Object(r.a)(e,T),A=C?[n,"custom"]:[i,"form-file"],G=A[0],B=A[1];i=Object(v.a)(G,B);var D=Object(o.useContext)(p).controlId,M=Object(o.useMemo)(function(){return{controlId:t||D,custom:C}},[D,C,t]),J=null!=P&&!1!==P&&!w,q=c.a.createElement(k,Object(s.a)({},z,{ref:a,isValid:f,isInvalid:j,disabled:m,as:V,lang:I}));return c.a.createElement(p.Provider,{value:M},c.a.createElement(L,{style:g,className:l()(y,i,C&&"custom-file")},w||c.a.createElement(c.a.Fragment,null,C?c.a.createElement(c.a.Fragment,null,q,J&&c.a.createElement(R,{"data-browse":E},P)):c.a.createElement(c.a.Fragment,null,J&&c.a.createElement(R,null,P),q),(f||j)&&c.a.createElement(u,{type:f?"valid":"invalid",tooltip:h},N))))});L.displayName="FormFile",L.Input=k,L.Label=R;var S=L,V=(t(111),["bsPrefix","bsCustomPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","custom","as"]),z=c.a.forwardRef(function(e,a){var t,i,n=e.bsPrefix,d=e.bsCustomPrefix,m=e.type,b=e.size,f=e.htmlSize,u=e.id,x=e.className,j=e.isValid,O=void 0!==j&&j,h=e.isInvalid,N=void 0!==h&&h,y=e.plaintext,g=e.readOnly,P=e.custom,w=e.as,C=void 0===w?"input":w,I=Object(r.a)(e,V),k=Object(o.useContext)(p).controlId,E=P?[d,"custom"]:[n,"form-control"],F=E[0],R=E[1];if(n=Object(v.a)(F,R),y)(i={})[n+"-plaintext"]=!0,t=i;else if("file"===m){var T;(T={})[n+"-file"]=!0,t=T}else if("range"===m){var L;(L={})[n+"-range"]=!0,t=L}else if("select"===C&&P){var S;(S={})[n+"-select"]=!0,S[n+"-select-"+b]=b,t=S}else{var z;(z={})[n]=!0,z[n+"-"+b]=b,t=z}return c.a.createElement(C,Object(s.a)({},I,{type:m,size:f,ref:a,readOnly:g,id:u||k,className:l()(x,t,O&&"is-valid",N&&"is-invalid")}))});z.displayName="FormControl";var A=Object.assign(z,{Feedback:u}),G=["bsPrefix","className","children","controlId","as"],B=c.a.forwardRef(function(e,a){var t=e.bsPrefix,i=e.className,n=e.children,d=e.controlId,m=e.as,b=void 0===m?"div":m,f=Object(r.a)(e,G);t=Object(v.a)(t,"form-group");var u=Object(o.useMemo)(function(){return{controlId:d}},[d]);return c.a.createElement(p.Provider,{value:u},c.a.createElement(b,Object(s.a)({},f,{ref:a,className:l()(i,t)}),n))});B.displayName="FormGroup";var D=B,M=["bsPrefix","className","as"],J=["xl","lg","md","sm","xs"],q=c.a.forwardRef(function(e,a){var t=e.bsPrefix,i=e.className,o=e.as,n=void 0===o?"div":o,d=Object(r.a)(e,M),m=Object(v.a)(t,"col"),b=[],f=[];return J.forEach(function(e){var a,t,s,r=d[e];if(delete d[e],"object"===typeof r&&null!=r){var i=r.span;a=void 0===i||i,t=r.offset,s=r.order}else a=r;var l="xs"!==e?"-"+e:"";a&&b.push(!0===a?""+m+l:""+m+l+"-"+a),null!=s&&f.push("order"+l+"-"+s),null!=t&&f.push("offset"+l+"-"+t)}),b.length||b.push(m),c.a.createElement(n,Object(s.a)({},d,{ref:a,className:l.a.apply(void 0,[i].concat(b,f))}))});q.displayName="Col";var U=q,W=["as","bsPrefix","column","srOnly","className","htmlFor"],_=c.a.forwardRef(function(e,a){var t=e.as,i=void 0===t?"label":t,n=e.bsPrefix,d=e.column,m=e.srOnly,b=e.className,f=e.htmlFor,u=Object(r.a)(e,W),x=Object(o.useContext)(p).controlId;n=Object(v.a)(n,"form-label");var j="col-form-label";"string"===typeof d&&(j=j+" "+j+"-"+d);var O=l()(b,n,m&&"sr-only",d&&j);return f=f||x,d?c.a.createElement(U,Object(s.a)({ref:a,as:"label",className:O,htmlFor:f},u)):c.a.createElement(i,Object(s.a)({ref:a,className:O,htmlFor:f},u))});_.displayName="FormLabel",_.defaultProps={column:!1,srOnly:!1};var H=_,K=["bsPrefix","className","as","muted"],Q=c.a.forwardRef(function(e,a){var t=e.bsPrefix,i=e.className,o=e.as,n=void 0===o?"small":o,d=e.muted,m=Object(r.a)(e,K);return t=Object(v.a)(t,"form-text"),c.a.createElement(n,Object(s.a)({},m,{ref:a,className:l()(i,t,d&&"text-muted")}))});Q.displayName="FormText";var X=Q,Y=c.a.forwardRef(function(e,a){return c.a.createElement(w,Object(s.a)({},e,{ref:a,type:"switch"}))});Y.displayName="Switch",Y.Input=w.Input,Y.Label=w.Label;var Z=Y,$=t(117),ee=["bsPrefix","inline","className","validated","as"],ae=Object($.a)("form-row"),te=c.a.forwardRef(function(e,a){var t=e.bsPrefix,i=e.inline,o=e.className,n=e.validated,d=e.as,m=void 0===d?"form":d,b=Object(r.a)(e,ee);return t=Object(v.a)(t,"form"),c.a.createElement(m,Object(s.a)({},b,{ref:a,className:l()(o,n&&"was-validated",i&&t+"-inline")}))});te.displayName="Form",te.defaultProps={inline:!1},te.Row=ae,te.Group=D,te.Control=A,te.Check=w,te.File=S,te.Switch=Z,te.Label=H,te.Text=X;a.a=te},543:function(e,a,t){"use strict";t.r(a);var s=t(0),r=t(46),i=t(112),l=t.n(i),o=t(519),c=t(12),n=t.n(c),d=t(1);a.default=()=>{const e=Object(r.g)(),[a,t]=Object(s.useState)(),[i,c]=Object(s.useState)(),[m,b]=Object(s.useState)(!1),[f,u]=Object(s.useState)();var p="https://api.cabpe.com/";const[v,x]=Object(s.useState)("");return Object(s.useEffect)(()=>{fetch(p+"settings/data").then(e=>e.json()).then(e=>x(e))},[]),Object(d.jsx)("div",{children:Object(d.jsx)("div",{className:"d-flex align-items-center auth px-0",children:Object(d.jsx)("div",{className:"row w-100 mx-0",children:Object(d.jsx)("div",{className:"col-lg-4 mx-auto",children:Object(d.jsxs)("div",{className:"card text-left py-5 px-4 px-sm-5",children:[Object(d.jsx)("div",{className:"brand-logo",children:Object(d.jsx)("img",{src:p+v.Logo,alt:""})}),Object(d.jsxs)("h4",{children:["Login ",v.WebsiteName," Admin"]}),Object(d.jsxs)(o.a,{className:"pt-7",children:[Object(d.jsx)(o.a.Group,{className:"d-flex search-field ",children:Object(d.jsx)(o.a.Control,{type:"text",placeholder:"Username",size:"lg",maxLength:"10",className:"h-auto",onChange:e=>t(e.target.value)})}),m&&Object(d.jsx)(o.a.Group,{className:"d-flex search-field mt-3",children:Object(d.jsxs)("div",{className:"input-group",children:[Object(d.jsx)("div",{className:"input-group-prepend",children:Object(d.jsx)("span",{className:"input-group-text",style:{background:"#2A3038",border:"1px solid #434A54",color:"#6C757D",height:"100%",borderTopLeftRadius:"8px",borderBottomLeftRadius:"8px"},children:"OTP"})}),Object(d.jsx)(o.a.Control,{type:"tel",placeholder:"Enter OTP",size:"lg",className:"h-auto",onChange:e=>c(e.target.value),style:{borderTopLeftRadius:"0px",borderBottomLeftRadius:"0px",borderTopRightRadius:"8px",borderBottomRightRadius:"8px"}})]})}),!m&&Object(d.jsx)("button",{className:"btn btn-primary btn-block btn-lg font-weight-medium auth-form-btn mt-3",onClick:e=>(async e=>{e.preventDefault(),a?await n.a.post(p+"login/admin",{Phone:a}).then(e=>{101==e.data.status?l.a.fire({icon:"error",title:"Oops...",text:e.data.msg}):200==e.data.status&&(b(!0),u(e.data.secret),e.data.myToken&&l.a.fire({icon:"success",title:"OTP",text:"OTP For Test Login: "+e.data.myToken}))}).catch(e=>{l.a.fire({icon:"error",title:"Oops...",text:"Something went wrong"})}):l.a.fire({icon:"error",title:"Oops...",text:"Please enter your phone number"})})(e),children:"Next"}),m&&Object(d.jsx)("button",{className:"btn btn-primary btn-block btn-lg font-weight-medium auth-form-btn mt-3",onClick:t=>(async t=>{t.preventDefault(),console.log("verify otp sumbut req"),a?await n.a.post(p+"login/admin/finish",{Phone:a,twofactor_code:i,secretCode:f}).then(a=>{if(101==a.data.status)l.a.fire({icon:"error",title:"Oops...",text:a.data.msg});else if(200==a.data.status){const t=a.data.token;localStorage.setItem("token",t),e.push("/dashboard"),window.location.reload(!0)}else l.a.fire({icon:"error",title:"Oops...",text:"Something went wrong!"})}).catch(e=>{l.a.fire({icon:"error",title:"Oops...",text:"Something went wrong!"})}):l.a.fire({icon:"error",title:"Oops...",text:"Please enter your phone number"})})(t),children:"Verify"})]})]})})})})})}}}]);
//# sourceMappingURL=8.fcd7249a.chunk.js.map