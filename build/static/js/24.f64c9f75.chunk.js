(this["webpackJsonpludo-admin"]=this["webpackJsonpludo-admin"]||[]).push([[24],{529:function(e,a,t){"use strict";t.r(a),t.d(a,"default",function(){return n});var s=t(12),r=t.n(s),c=t(0),o=t(46),l=t(1);function n(){const e=Object(o.g)(),{id:a}=Object(o.i)(),[t,s]=Object(c.useState)(""),[n,d]=Object(c.useState)(""),[i,m]=Object(c.useState)(""),[h,u]=Object(c.useState)(""),[j,b]=Object(c.useState)(""),p="https://api.cabpe.com/";Object(c.useEffect)(()=>{if(a){const e=localStorage.getItem("token"),t={Authorization:"Bearer ".concat(e)};r.a.get(p+"get_user/".concat(a),{headers:t}).then(e=>{s(e.data.Name),d(e.data.Phone),m(e.data.Email)}).catch(e=>console.log(e))}},[a,p]);return Object(l.jsxs)("div",{children:[Object(l.jsx)("h4",{className:"font-weight-bold my-3",children:a?"UPDATE USER":"ADD NEW USER"}),Object(l.jsx)("div",{className:"card text-white",style:{backgroundColor:"rgba(0, 27, 11, 0.734)"},children:Object(l.jsx)("div",{className:"card-body",children:Object(l.jsxs)("form",{onSubmit:async s=>{s.preventDefault();const c=localStorage.getItem("token"),o={Authorization:"Bearer ".concat(c)};a?r.a.patch(p+"admin/edit/user/".concat(a),{Name:t,Phone:n,Email:i},{headers:o}).then(()=>{e.push("/user/allusers")}).catch(e=>alert(e)):h===j?r.a.post(p+"register",{Name:t,Phone:n,Email:i,Password:h,cPassword:j},{headers:o}).then(()=>{e.push("/user/allusers")}).catch(e=>alert(e)):alert("Passwords do not match!")},children:[Object(l.jsxs)("div",{className:"form-row",children:[Object(l.jsxs)("div",{className:"form-group col-md-4",children:[Object(l.jsx)("label",{htmlFor:"name",children:"Name"}),Object(l.jsx)("input",{type:"text",className:"form-control",id:"name",value:t,onChange:e=>s(e.target.value),placeholder:"Name",required:!0})]}),Object(l.jsxs)("div",{className:"form-group col-md-4",children:[Object(l.jsx)("label",{htmlFor:"mobile",children:"Mobile"}),Object(l.jsx)("input",{type:"text",className:"form-control",id:"mobile",value:n,onChange:e=>d(e.target.value),maxLength:10,placeholder:"Mobile",required:!0})]}),Object(l.jsxs)("div",{className:"form-group col-md-4",children:[Object(l.jsx)("label",{htmlFor:"email",children:"Email"}),Object(l.jsx)("input",{type:"email",className:"form-control",id:"email",value:i,onChange:e=>m(e.target.value),placeholder:"Email"})]})]}),!a&&Object(l.jsxs)("div",{className:"form-row",children:[Object(l.jsxs)("div",{className:"form-group col-md-6",children:[Object(l.jsx)("label",{htmlFor:"password",children:"Password"}),Object(l.jsx)("input",{type:"password",className:"form-control",id:"password",value:h,onChange:e=>u(e.target.value),placeholder:"Password",required:!0})]}),Object(l.jsxs)("div",{className:"form-group col-md-6",children:[Object(l.jsx)("label",{htmlFor:"confirm_password",children:"Confirm Password"}),Object(l.jsx)("input",{type:"password",className:"form-control",id:"confirm_password",value:j,onChange:e=>b(e.target.value),placeholder:"Confirm Password",required:!0})]})]}),Object(l.jsx)("button",{type:"submit",className:"btn btn-success float-right",children:a?"Update User":"Add User"})]})})})]})}}}]);
//# sourceMappingURL=24.f64c9f75.chunk.js.map