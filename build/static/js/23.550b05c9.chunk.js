(this["webpackJsonpludo-admin"]=this["webpackJsonpludo-admin"]||[]).push([[23],{534:function(e,t,c){"use strict";c.r(t);var a=c(12),s=c.n(a),n=c(0),r=c(15),i=c(112),o=c.n(i),d=c(1);const l=c(45);l.Datatable=c(49);t.default=()=>{var e;e="https://api.ludowins.in/";const[t,c]=Object(n.useState)(),[a,i]=Object(n.useState)(!1),h=()=>{const a=localStorage.getItem("token"),n={Authorization:"Bearer ".concat(a)};s.a.get(e+"temp/withdraw/all/pending",{headers:n}).then(e=>{c(e.data),l("table").dataTable(),console.log(t)})};return Object(n.useEffect)(()=>{h()},[]),void 0==t?null:a?Object(d.jsx)("div",{className:"",style:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center",top:"0",left:"0",right:"0",bottom:"0",zIndex:"9999",backgroundColor:"rgb(255, 255, 255)"},children:Object(d.jsx)("img",{src:"/Loader1.gif",style:{width:"150px",height:"80px"}})}):Object(d.jsx)("div",{className:"row ",children:Object(d.jsx)("div",{className:"col-12 grid-margin",children:Object(d.jsx)("div",{className:"card",children:Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsx)("h4",{className:"card-title",children:" Withdrawl Request"}),Object(d.jsx)("div",{className:"table-responsive",children:Object(d.jsxs)("table",{className:"table",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"#"}),Object(d.jsx)("th",{children:" ID"}),Object(d.jsx)("th",{children:" Phone no."}),Object(d.jsx)("th",{children:" Username"}),Object(d.jsx)("th",{children:" Amount "}),Object(d.jsx)("th",{children:" Withdraw type "}),Object(d.jsx)("th",{children:" Action "})]})}),Object(d.jsx)("tbody",{children:t&&t.map((t,c)=>Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:c+1}),Object(d.jsx)("td",{children:t._id}),Object(d.jsx)("td",{children:t.user&&t.user.Phone}),Object(d.jsx)("td",{children:t.user&&Object(d.jsx)(r.b,{className:"btn btn-sm btn-outline-info",to:"/user/view_user/".concat(t.user._id),children:t.user.Name})}),Object(d.jsx)("td",{children:t.amount}),Object(d.jsx)("td",{children:t.type}),Object(d.jsx)("td",{children:!a&&"Pending"==t.status&&Object(d.jsxs)(d.Fragment,{children:[" ",Object(d.jsx)("button",{className:"btn btn-primary mr-2",onClick:()=>(async(t,c,a,n,r)=>{i(!0);const d=localStorage.getItem("token"),l={Authorization:"Bearer ".concat(d)};if("upi"==c)var j=e+"withdraw/razorpay/adminmanual";else j=e+"withdraw/decentro/adminmanual";s.a.post(j,{amount:t,type:c,userID:a,txnID:n,reqID:r},{headers:l}).then(e=>{i(!1),"200"===e.data.subCode?(console.log("cash res",e),o.a.fire({title:e.data.message,icon:"success",confirmButtonText:"OK"}),setTimeout(()=>{h()},1e3)):(o.a.fire({title:e.data.message,icon:"danger",confirmButtonText:"OK"}),setTimeout(()=>{h()},1e3))}).catch(e=>{i(!1),o.a.fire({title:"Error! try after sometime.",icon:"error",confirmButtonText:"OK"}),console.log(e),setTimeout(()=>{h()},1e3)})})(t.amount,t.type,t.user._id,t.txn_id,t._id),children:"Approve"})," ",Object(d.jsx)("button",{className:"btn btn-danger mr-2",onClick:()=>(async t=>{i(!0);const c=localStorage.getItem("token"),a={Authorization:"Bearer ".concat(c)};s.a.patch(e+"temp/withdraw/reject/".concat(t),{status:"reject"},{headers:a}).then(e=>{i(!1),e.data.error&&o.a.fire({title:e.data.message,icon:"danger",confirmButtonText:"OK"}),h()}).catch(e=>{i(!1),h(),console.log(e)})})(t._id),children:"reject"})]})})]},t._id))})]})})]})})})})}}}]);
//# sourceMappingURL=23.550b05c9.chunk.js.map