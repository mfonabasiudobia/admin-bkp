{"version":3,"sources":["app/components/agentManagement/Addagent.js"],"names":["Addagent","history","useHistory","Name","setName","useState","Phone","setPhone","Password","setPassword","cPassword","setCPassword","type","setType","referralCode","setReferralCode","commission","setCommission","baseUrl","process","_jsxs","children","_jsx","className","id","action","method","style","backgroundColor","padding","borderRadius","htmlFor","name","placeholder","onChange","e","target","value","required","maxLength","min","max","onClick","async","preventDefault","alert","access_token","localStorage","getItem","headers","Authorization","concat","axios","post","user_type","referral_code","commission_percentage","status","push","error","console","log","addAgent","marginTop"],"mappings":"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","file":"static/js/17.fd93a073.chunk.js","sourcesContent":["import axios from 'axios'\nimport React, { useEffect, useState } from 'react'\nimport { useHistory } from 'react-router-dom'\n\nexport default function Addagent() {\n\n  const history = useHistory()\n  const [Name, setName] = useState()\n  const [Phone, setPhone] = useState()\n  const [Password, setPassword] = useState()\n  const [cPassword, setCPassword] = useState()\n  const [type, setType] = useState(\"Agent\")\n  const [referralCode, setReferralCode] = useState()\n  const [commission, setCommission] = useState(10)\n\n  const beckendLocalApiUrl = process.env.REACT_APP_BACKEND_LOCAL_API;\n  const beckendLiveApiUrl = process.env.REACT_APP_BACKEND_LIVE_API;\n  const nodeMode = process.env.NODE_ENV;\n  if (nodeMode === \"development\") {\n    var baseUrl = beckendLocalApiUrl;\n  } else {\n    baseUrl = beckendLiveApiUrl;\n  }\n\n  const addAgent = async (e) => {\n    e.preventDefault();\n\n    if (Password !== cPassword) {\n      alert(\"Passwords don't match\");\n    } else if (!Name || !Phone || !Password) {\n      alert(\"Please fill all required fields\");\n    } else {\n      try {\n        const access_token = localStorage.getItem(\"token\")\n        const headers = {\n          Authorization: `Bearer ${access_token}`\n        }\n\n        const data = await axios.post(baseUrl + \"admin/register\", {\n          Name,\n          Phone,\n          Password,\n          user_type: type,\n          referral_code: referralCode,\n          commission_percentage: commission\n        }, { headers })\n\n        if (data.status === 200) {\n          alert(\"Agent added successfully!\");\n          history.push(\"/agent/allagents\")\n        }\n      } catch (error) {\n        console.log(error);\n        alert(\"Error adding agent. Please try again.\");\n      }\n    }\n  }\n\n  return (\n    <div>\n      <h4 className='text-uppercase font-weight-bold my-3 text-light'>Add New Agent</h4>\n\n      <form id=\"add_agent_form\" action=\"\" method=\"post\" style={{ backgroundColor: \"rgba(0, 27, 11, 0.734)\", padding: \"20px\", borderRadius: \"10px\" }}>\n        <div className=\"form-row\">\n          <div className=\"form-group col-md-4\">\n            <label htmlFor=\"name\" className=\"text-light\">Name *</label>\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"name\"\n              name=\"name\"\n              placeholder=\"Enter Agent Name\"\n              onChange={(e) => setName(e.target.value)}\n              required\n            />\n          </div>\n          <div className=\"form-group col-md-4\">\n            <label htmlFor=\"mobile\" className=\"text-light\">Mobile *</label>\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              maxLength={10}\n              id=\"mobile\"\n              name=\"mobile\"\n              placeholder=\"Enter Mobile Number\"\n              onChange={(e) => setPhone(e.target.value)}\n              required\n            />\n          </div>\n          <div className=\"form-group col-md-4\">\n            <label htmlFor=\"type\" className=\"text-light\">User Type</label>\n            <select\n              className=\"form-control\"\n              name=\"type\"\n              id=\"type\"\n              onChange={(e) => setType(e.target.value)}\n              value={type}\n            >\n              <option value=\"Agent\">Agent</option>\n              <option value=\"Admin\">Admin</option>\n            </select>\n          </div>\n        </div>\n\n        <div className=\"form-row\">\n          <div className=\"form-group col-md-4\">\n            <label htmlFor=\"referral_code\" className=\"text-light\">Referral Code</label>\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"referral_code\"\n              name=\"referral_code\"\n              placeholder=\"Enter Referral Code\"\n              onChange={(e) => setReferralCode(e.target.value)}\n            />\n          </div>\n          <div className=\"form-group col-md-4\">\n            <label htmlFor=\"commission\" className=\"text-light\">Commission (%)</label>\n            <input\n              type=\"number\"\n              className=\"form-control\"\n              id=\"commission\"\n              name=\"commission\"\n              placeholder=\"Commission Percentage\"\n              value={commission}\n              onChange={(e) => setCommission(e.target.value)}\n              min=\"0\"\n              max=\"100\"\n            />\n          </div>\n          <div className=\"form-group col-md-4\">\n            <label htmlFor=\"password\" className=\"text-light\">Password *</label>\n            <input\n              type=\"password\"\n              className=\"form-control\"\n              id=\"password\"\n              name=\"password\"\n              placeholder=\"Enter Password\"\n              onChange={(e) => setPassword(e.target.value)}\n              required\n            />\n          </div>\n        </div>\n\n        <div className=\"form-row\">\n          <div className=\"form-group col-md-4\">\n            <label htmlFor=\"confirm_password\" className=\"text-light\">Confirm Password *</label>\n            <input\n              type=\"password\"\n              className=\"form-control\"\n              id=\"confirm_password\"\n              name=\"confirm_password\"\n              placeholder=\"Confirm Password\"\n              onChange={(e) => setCPassword(e.target.value)}\n              required\n            />\n          </div>\n          <div className=\"form-group col-md-8\">\n            <button\n              type=\"submit\"\n              className=\"btn btn-success float-right\"\n              onClick={(e) => addAgent(e)}\n              style={{ marginTop: \"25px\" }}\n            >\n              ADD AGENT\n            </button>\n          </div>\n        </div>\n      </form>\n    </div>\n  )\n}\n"],"sourceRoot":""}