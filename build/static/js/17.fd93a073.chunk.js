(this["webpackJsonpludo-admin"]=this["webpackJsonpludo-admin"]||[]).push([[17],{531:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return n});var s=a(12),r=a.n(s),l=a(0),o=a(46),c=a(1);function n(){const e=Object(o.g)(),[t,a]=Object(l.useState)(),[s,n]=Object(l.useState)(),[i,d]=Object(l.useState)(),[m,j]=Object(l.useState)(),[h,b]=Object(l.useState)("Agent"),[p,u]=Object(l.useState)(),[g,x]=Object(l.useState)(10);var f;f="https://api.cabpe.com/";return Object(c.jsxs)("div",{children:[Object(c.jsx)("h4",{className:"text-uppercase font-weight-bold my-3 text-light",children:"Add New Agent"}),Object(c.jsxs)("form",{id:"add_agent_form",action:"",method:"post",style:{backgroundColor:"rgba(0, 27, 11, 0.734)",padding:"20px",borderRadius:"10px"},children:[Object(c.jsxs)("div",{className:"form-row",children:[Object(c.jsxs)("div",{className:"form-group col-md-4",children:[Object(c.jsx)("label",{htmlFor:"name",className:"text-light",children:"Name *"}),Object(c.jsx)("input",{type:"text",className:"form-control",id:"name",name:"name",placeholder:"Enter Agent Name",onChange:e=>a(e.target.value),required:!0})]}),Object(c.jsxs)("div",{className:"form-group col-md-4",children:[Object(c.jsx)("label",{htmlFor:"mobile",className:"text-light",children:"Mobile *"}),Object(c.jsx)("input",{type:"text",className:"form-control",maxLength:10,id:"mobile",name:"mobile",placeholder:"Enter Mobile Number",onChange:e=>n(e.target.value),required:!0})]}),Object(c.jsxs)("div",{className:"form-group col-md-4",children:[Object(c.jsx)("label",{htmlFor:"type",className:"text-light",children:"User Type"}),Object(c.jsxs)("select",{className:"form-control",name:"type",id:"type",onChange:e=>b(e.target.value),value:h,children:[Object(c.jsx)("option",{value:"Agent",children:"Agent"}),Object(c.jsx)("option",{value:"Admin",children:"Admin"})]})]})]}),Object(c.jsxs)("div",{className:"form-row",children:[Object(c.jsxs)("div",{className:"form-group col-md-4",children:[Object(c.jsx)("label",{htmlFor:"referral_code",className:"text-light",children:"Referral Code"}),Object(c.jsx)("input",{type:"text",className:"form-control",id:"referral_code",name:"referral_code",placeholder:"Enter Referral Code",onChange:e=>u(e.target.value)})]}),Object(c.jsxs)("div",{className:"form-group col-md-4",children:[Object(c.jsx)("label",{htmlFor:"commission",className:"text-light",children:"Commission (%)"}),Object(c.jsx)("input",{type:"number",className:"form-control",id:"commission",name:"commission",placeholder:"Commission Percentage",value:g,onChange:e=>x(e.target.value),min:"0",max:"100"})]}),Object(c.jsxs)("div",{className:"form-group col-md-4",children:[Object(c.jsx)("label",{htmlFor:"password",className:"text-light",children:"Password *"}),Object(c.jsx)("input",{type:"password",className:"form-control",id:"password",name:"password",placeholder:"Enter Password",onChange:e=>d(e.target.value),required:!0})]})]}),Object(c.jsxs)("div",{className:"form-row",children:[Object(c.jsxs)("div",{className:"form-group col-md-4",children:[Object(c.jsx)("label",{htmlFor:"confirm_password",className:"text-light",children:"Confirm Password *"}),Object(c.jsx)("input",{type:"password",className:"form-control",id:"confirm_password",name:"confirm_password",placeholder:"Confirm Password",onChange:e=>j(e.target.value),required:!0})]}),Object(c.jsx)("div",{className:"form-group col-md-8",children:Object(c.jsx)("button",{type:"submit",className:"btn btn-success float-right",onClick:a=>(async a=>{if(a.preventDefault(),i!==m)alert("Passwords don't match");else if(t&&s&&i)try{const a=localStorage.getItem("token"),l={Authorization:"Bearer ".concat(a)};200===(await r.a.post(f+"admin/register",{Name:t,Phone:s,Password:i,user_type:h,referral_code:p,commission_percentage:g},{headers:l})).status&&(alert("Agent added successfully!"),e.push("/agent/allagents"))}catch(l){console.log(l),alert("Error adding agent. Please try again.")}else alert("Please fill all required fields")})(a),style:{marginTop:"25px"},children:"ADD AGENT"})})]})]})]})}}}]);
//# sourceMappingURL=17.fd93a073.chunk.js.map