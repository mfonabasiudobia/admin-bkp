(this["webpackJsonpludo-admin"]=this["webpackJsonpludo-admin"]||[]).push([[25],{528:function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return d});var c=a(12),s=a.n(c),l=a(0),n=a(15),r=a(37),i=a.n(r),o=a(1);function d(){var e;e="https://api.cabpe.com/";let[t,a]=Object(l.useState)(10);const[c,r]=Object(l.useState)(0),[d,j]=Object(l.useState)(0),[b,h]=Object(l.useState)(0),[m,u]=Object(l.useState)(0),[x,O]=Object(l.useState)(0),[p,g]=Object(l.useState)(""),[v,N]=Object(l.useState)(""),[f,y]=Object(l.useState)(""),[_,k]=Object(l.useState)(!1),S=async()=>{const a=localStorage.getItem("token"),l={Authorization:"Bearer ".concat(a)},n=localStorage.getItem("referral_code"),r=localStorage.getItem("user_type");try{let a=e+"User/all?page=".concat(c,"&_limit=").concat(t,"&_q=").concat(b,"&_stype=").concat(m,"&_status=").concat(x,"&_Userstatus=").concat(p);"Admin"!==r&&(a+="&referral_code=".concat(n)),v&&(a+="&start_date=".concat(v)),f&&(a+="&end_date=".concat(f));const i=await s.a.get(a,{headers:l});k(i.data.admin),j(i.data.totalPages)}catch(i){alert(i)}};Object(l.useEffect)(()=>{S()},[c,t,b,m,x,p,v,f]);const w=e=>{if(!e)return"";const t=e.toString();if(t.length>=10){const e=t.slice(-4);return"91XXXXXX".concat(e)}return t};return _&&Object(o.jsxs)("div",{children:[Object(o.jsx)("h4",{className:"font-weight-bold my-3",children:"All USER LIST"}),Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col-12 grid-margin",children:Object(o.jsx)("div",{className:"card text-white",children:Object(o.jsxs)("div",{className:"card-body text-light",style:{backgroundColor:"rgba(0, 27, 11, 0.734)"},children:[Object(o.jsx)("h4",{className:"card-title",children:"Users List"}),Object(o.jsxs)("div",{className:"row",children:[Object(o.jsxs)("select",{className:"form-control col-sm-3 m-2",id:"searchType",name:"searchtype",onChange:e=>u(e.target.value),children:[Object(o.jsx)("option",{value:"0",children:"Select Search by"}),Object(o.jsx)("option",{value:"Name",children:"Name"}),Object(o.jsx)("option",{value:"Phone",children:"Phone"}),Object(o.jsx)("option",{value:"_id",children:"User Id"})]}),Object(o.jsx)("input",{type:"text",placeholder:"Search...",className:"form-control col-sm-4 m-2",onChange:e=>{let t=e.target.value;h(t)}}),Object(o.jsx)("h5",{children:"Or"}),Object(o.jsxs)("select",{className:"form-control col-sm-3 m-2",id:"findByStatus",name:"findByStatus",onChange:e=>{let t=e.target.value;O(t),g(t)},children:[Object(o.jsx)("option",{value:"0",children:"Search Status"}),Object(o.jsx)("option",{value:"verified",children:"verified"}),Object(o.jsx)("option",{value:"unverified",children:"unverified"}),Object(o.jsx)("option",{value:"Block",children:"Blocked"}),Object(o.jsx)("option",{value:"hold_balance",children:"Hold"})]}),Object(o.jsxs)("select",{className:"form-control col-sm-1 m-1 bg-dark text-light",id:"pagelimit",name:"pagelimit",onChange:e=>{let t=e.target.value;a(t)},children:[Object(o.jsx)("option",{value:"10",children:"Set limit"}),Object(o.jsx)("option",{value:"20",children:"20"}),Object(o.jsx)("option",{value:"50",children:"50"}),Object(o.jsx)("option",{value:"100",children:"100"}),Object(o.jsx)("option",{value:"500",children:"500"})]})]}),Object(o.jsxs)("div",{className:"row mt-3",children:[Object(o.jsxs)("div",{className:"col-sm-3 m-2",children:[Object(o.jsx)("label",{className:"text-light",children:"Start Date:"}),Object(o.jsx)("input",{type:"date",className:"form-control",value:v,onChange:e=>N(e.target.value)})]}),Object(o.jsxs)("div",{className:"col-sm-3 m-2",children:[Object(o.jsx)("label",{className:"text-light",children:"End Date:"}),Object(o.jsx)("input",{type:"date",className:"form-control",value:f,onChange:e=>y(e.target.value)})]}),Object(o.jsx)("div",{className:"col-sm-2 m-2 d-flex align-items-end",children:Object(o.jsx)("button",{className:"btn btn-secondary",onClick:()=>{N(""),y("")},children:"Clear Dates"})})]}),Object(o.jsx)("div",{className:"table-responsive",children:Object(o.jsxs)("table",{className:"table text-light",children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"#"}),Object(o.jsx)("th",{children:" ID"}),Object(o.jsx)("th",{children:" Name"}),Object(o.jsx)("th",{children:" Mobile "}),Object(o.jsx)("th",{children:" Balance "}),Object(o.jsx)("th",{children:" MissMatch"}),Object(o.jsx)("th",{children:"Game hold"}),Object(o.jsx)("th",{children:" Reffered By "}),Object(o.jsx)("th",{children:" Verified "}),Object(o.jsx)("th",{children:" Updated By "}),Object(o.jsx)("th",{children:" Action "})]})}),Object(o.jsx)("tbody",{children:_.map((t,a)=>Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:a+1}),Object(o.jsx)("td",{children:t._id}),Object(o.jsx)("td",{children:Object(o.jsx)("span",{className:"pl-2 text-primary",children:t.Name})}),Object(o.jsx)("td",{className:"text-success",children:"Agent"===localStorage.getItem("user_type")?Object(o.jsx)("span",{children:w(t.Phone)}):Object(o.jsx)("a",{className:"cxy flex-column",href:"https://api.whatsapp.com/send?phone=+91".concat(t.Phone,"&text=Hello"),children:t.Phone})}),Object(o.jsxs)("td",{children:["\u20b9",t.Wallet_balance]}),Object(o.jsxs)("td",{className:"".concat(t.Wallet_balance-(t.wonAmount+t.totalDeposit+t.referral_earning+t.totalBonus-(t.loseAmount+t.totalWithdrawl+t.referral_wallet+t.withdraw_holdbalance+t.hold_balance+t.totalPenalty))!=0?"text-danger":"text-success"),children:["\u20b9 ",t.Wallet_balance-(t.wonAmount+t.totalDeposit+t.referral_earning+t.totalBonus-(t.loseAmount+t.totalWithdrawl+t.referral_wallet+t.withdraw_holdbalance+t.hold_balance+t.totalPenalty))]}),Object(o.jsx)("td",{children:t.hold_balance}),Object(o.jsx)("td",{className:"text-success",children:t.referral}),Object(o.jsx)("td",{children:Object(o.jsx)("div",{className:"badge badge-outline-success",children:t.verified})}),Object(o.jsx)("td",{children:t.updatedBy}),Object(o.jsxs)("td",{children:[Object(o.jsx)("button",{type:"button",className:"btn  mx-1 ".concat("Block"==t.user_type?"btn-success":"btn-danger"),onClick:()=>{(t=>{if(!0===window.confirm("are you sure block ".concat(t.Name))){const a=localStorage.getItem("token"),c={Authorization:"Bearer ".concat(a)},l="Block"==t.user_type?"User":"Block";s.a.post(e+"block/user/".concat(t._id),{user_type:l},{headers:c}).then(e=>{S(e.data),console.log(e.data)})}})(t)},children:"Block"==t.user_type?"Unblock":"Block"}),Object(o.jsx)(n.b,{type:"button",className:"btn btn-info mx-1",to:"/user/adduser/".concat(t._id),children:"Edit User"}),Object(o.jsx)(n.b,{type:"button",className:"btn btn-primary mx-1",to:"/user/view_user/".concat(t._id),children:"View"})]})]},t._id))})]})}),Object(o.jsx)("div",{className:"mt-4",children:Object(o.jsx)(i.a,{previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",pageCount:d,marginPagesDisplayed:2,pageRangeDisplayed:3,onPageChange:async e=>{let t=e.selected+1;r(t)},containerClassName:"pagination justify-content-center",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakClassName:"page-item",breakLinkClassName:"page-link",activeClassName:"active"})})]})})})})]})}a(45).Datatable=a(49)}}]);
//# sourceMappingURL=25.9b0025c5.chunk.js.map